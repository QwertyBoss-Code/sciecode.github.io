var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};
$jscomp.polyfill=function(a,b,e,f){if(b){e=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var c=a[f];c in e||(e[c]={});e=e[c]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function e(a){return a instanceof c?a:new c(function(b,w){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var f=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){f(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var e=a[b];a[b]=null;try{e()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var c=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(T){b.reject(T)}};c.prototype.createResolveAndReject_=function(){function a(a){return function(w){e||(e=!0,a.call(b,w))}}var b=this,e=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};c.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};c.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(T){this.reject_(T);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};c.prototype.reject_=function(a){this.settle_(2,a)};c.prototype.fulfill_=function(a){this.settle_(1,a)};c.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)n.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var n=new b;c.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};c.prototype.settleSameAsThenable_=function(a,b){var e=this.createResolveAndReject_();try{a.call(b,e.resolve,e.reject)}catch(r){e.reject(r)}};c.prototype.then=function(a,b){function e(a,b){return"function"==typeof a?function(b){try{r(a(b))}catch(ea){f(ea)}}:b}var r,f,w=new c(function(a,b){r=a;f=b});this.callWhenSettled_(e(a,r),e(b,f));
return w};c.prototype.catch=function(a){return this.then(void 0,a)};c.prototype.callWhenSettled_=function(a,b){function e(){switch(c.state_){case 1:a(c.result_);break;case 2:b(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?n.asyncExecute(e):this.onSettledCallbacks_.push(e)};c.resolve=e;c.reject=function(a){return new c(function(b,e){e(a)})};c.race=function(a){return new c(function(b,c){for(var f=$jscomp.makeIterator(a),w=f.next();!w.done;w=
f.next())e(w.value).callWhenSettled_(b,c)})};c.all=function(a){var b=$jscomp.makeIterator(a),f=b.next();return f.done?e([]):new c(function(a,c){function r(b){return function(e){w[b]=e;n--;0==n&&a(w)}}var w=[],n=0;do w.push(void 0),n++,e(f.value).callWhenSettled_(r(w.length-1),c),f=b.next();while(!f.done)})};return c},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(e||"")+"_"+b++,e)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(e){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var e=a.next();$jscomp.generator.ensureIteratorResultIsObject_(e);if(e.done)this.yieldResult=e.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(e.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,e){e?this.finallyContexts_[e]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,e){try{var f=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(f);if(!f.done)return this.context_.stop_(),f;var c=f.value}catch(n){return this.context_.yieldAllIterator_=null,this.context_.throw_(n),this.nextStep_()}this.context_.yieldAllIterator_=null;e.call(this.context_,c);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function e(b){return a.throw(b)}return new Promise(function(f,c){function n(a){a.done?f(a.value):Promise.resolve(a.value).then(b,e).then(n,c)}n(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){function a(a,b,P,d,e){return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){return h.return(new Promise(function(h){x=new THREE.EffectComposer(a);x.setSize(d,e);qa=d;ra=e;var p=new THREE.RenderPass(b,P);U=new THREE.SavePass(new THREE.WebGLRenderTarget(qa,ra,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1}));Q=new THREE.ShaderPass(THREE.BlendShader,"tDiffuse1");Q.uniforms.tDiffuse2.value=U.renderTarget.texture;Q.uniforms.mixRatio.value=
.25;var c=new THREE.UnrealBloomPass(new THREE.Vector2(d,e),.2,0,.19),g=new THREE.ShaderPass(THREE.CopyShader);g.renderToScreen=!0;x.addPass(p);x.addPass(Q);x.addPass(U);x.addPass(c);x.addPass(g);h(!0)}))})}function b(){var a=new THREE.PlaneGeometry(4E3,4E3,10,10),b=new THREE.MeshStandardMaterial({roughness:.7,metalness:1,dithering:!0,color:1779512,emissive:0});J=new THREE.Mesh(a,b);J.rotation.x=-1.57;J.position.y=-55;J.receiveShadow=!0}function e(){kb.setStyle(d.color1).getHSL(Qa);J.material.color.getHSL(sa);
J.material.color.setHSL(Qa.h+.045,sa.s,sa.l)}function f(a,b,P){return 1>(a/=.5)?P/2*a*a*a*a+b:-P/2*((a-=2)*a*a*a-2)+b}function c(a,b){Ra=a;R=b;K=0;ta=ua=1;Sa=document.getElementsByTagName("BODY")[0];document.getElementById("noticeText");y=document.getElementsByClassName("qualities");va=document.getElementById("quality_list");fa=document.getElementById("quality_value");Ta=document.querySelector(".caret");V=document.getElementsByClassName("settings_items");Ua=document.getElementById("settings_menu");
Va=document.getElementById("mb_value");wa=document.getElementById("color1_slider");xa=document.getElementById("color2_slider");ya=document.getElementById("ela_slider");za=document.getElementById("vis_slider");Aa=document.getElementById("rad_slider");S=document.getElementById("ball_sphere_inside");Ba=document.getElementById("brand");Wa=document.getElementById("overlay");Ca=document.getElementById("fluid_ball");Xa=document.getElementById("st_btn");S.style.transform="scale("+d.radius/50;Aa.addEventListener("mousemove",
function(){d.radius=this.value;S=document.getElementById("ball_sphere_inside");S.style.transform="scale("+d.radius/50;var a=document.getElementById("rad_value");a.innerHTML=this.value;a=document.getElementById("rad_title_value");a.innerHTML=this.value},!1);Aa.addEventListener("touchmove",function(){d.radius=this.value;S=document.getElementById("ball_sphere_inside");S.style.transform="scale("+d.radius/50;var a=document.getElementById("rad_value");a.innerHTML=this.value;a=document.getElementById("rad_title_value");
a.innerHTML=this.value},!1);za.addEventListener("mousemove",function(){d.viscosity=this.value/100;var a=document.getElementById("vis_value");a.innerHTML=this.value;a=document.getElementById("vis_title_value");a.innerHTML=this.value;a=document.getElementById("fluid_box");a.style.background="rgba(78, 177, "+(219-140*d.viscosity/.3)+","+(.2+.2*d.viscosity/.3)+")";a.style.border="2px solid rgba(78, 177, "+(219-140*d.viscosity/.3)+", 1)"},!1);za.addEventListener("touchmove",function(){d.viscosity=this.value/
100;var a=document.getElementById("vis_value");a.innerHTML=this.value;a=document.getElementById("vis_title_value");a.innerHTML=this.value;a=document.getElementById("fluid_box");a.style.background="rgba(78, 177, "+(219-140*d.viscosity/.3)+","+(.2+.2*d.viscosity/.3)+")";a.style.border="2px solid rgba(78, 177, "+(219-140*d.viscosity/.3)+", 1)"},!1);ya.addEventListener("mousemove",function(){d.elasticity=this.value/1E3;var a=document.getElementById("ela_value");a.innerHTML=this.value;a=document.getElementById("ela_title_value");
a.innerHTML=this.value},!1);ya.addEventListener("touchmove",function(){d.elasticity=this.value/1E3;var a=document.getElementById("ela_value");a.innerHTML=this.value;a=document.getElementById("ela_title_value");a.innerHTML=this.value},!1);wa.addEventListener("mousemove",function(){var a=new THREE.Color("hsl("+this.value+",  73%, 46%)");e();var b="#"+a.getHexString();d.color1=b;b=document.getElementById("color1_value");b.style.background="#"+a.getHexString();b=document.getElementById("color1_box");
b.style.background="#"+a.getHexString()},!1);wa.addEventListener("touchmove",function(){var a=new THREE.Color("hsl("+this.value+",  73%, 46%)");e();var b="#"+a.getHexString();d.color1=b;b=document.getElementById("color1_value");b.style.background="#"+a.getHexString();b=document.getElementById("color1_box");b.style.background="#"+a.getHexString()},!1);xa.addEventListener("mousemove",function(){var a=new THREE.Color("hsl("+this.value+",  73%, 46%)"),b="#"+a.getHexString();d.color2=b;b=document.getElementById("color2_value");
b.style.background="#"+a.getHexString();b=document.getElementById("color2_box");b.style.background="#"+a.getHexString()},!1);xa.addEventListener("touchmove",function(){var a=new THREE.Color("hsl("+this.value+",  73%, 46%)"),b="#"+a.getHexString();d.color2=b;b=document.getElementById("color2_value");b.style.background="#"+a.getHexString();b=document.getElementById("color2_box");b.style.background="#"+a.getHexString()},!1);Xa.addEventListener("click",function(){document.body.classList.remove("starting");
document.body.classList.add("active");Ba.classList.remove("nodelay");Ba.classList.remove("brandInit");Wa.classList.add("invisible");Ya=!0;ha=0},!1);Va.addEventListener("click",function(){d.motionBlur=!d.motionBlur;var a=document.getElementById("motion_blur_title_value");this.classList.toggle("disabled");a.classList.toggle("disabled");d.motionBlur?(this.innerHTML="Enabled",a.innerHTML="Enabled"):(this.innerHTML="Disabled",a.innerHTML="Disabled")},!1);Ua.addEventListener("click",function(){this.classList.toggle("menu_active");
document.getElementById("settings").classList.toggle("final_settings")},!1);a=0;for(b=V.length;a<b;a++)V[a].addEventListener("click",function(){for(var a=0,b=V.length;a<b;a++)V[a].classList.remove("selected_item");this.classList.add("selected_item")},!1);a=0;for(b=y.length;a<b;a++)y[a].addEventListener("click",function(a){a.preventDefault();if(this.dataset.quality!=d.quality){a=0;for(var b=y.length;a<b;a++)y[a].classList.remove("selected"),y[a].classList.remove("recommended");this.classList.add("selected");
va.classList.remove("vis");fa.classList.remove("vis");fa.innerHTML=this.innerHTML+' <span class="pn">'+65*Math.pow(2,this.dataset.quality)+'k</span><span class="caret"></span>';if(a=this.dataset.quality)d.quality=a;0==d.quality&&(d.useShadow=!1,d.TEXTURE_WIDTH=256,d.TEXTURE_HEIGHT=256,d.sizeRatio=1.89);1==d.quality&&(d.useShadow=!1,d.TEXTURE_WIDTH=256,d.TEXTURE_HEIGHT=512,d.sizeRatio=1.46);2==d.quality&&(d.useShadow=!0,d.TEXTURE_WIDTH=512,d.TEXTURE_HEIGHT=512,d.sizeRatio=1.32);3==d.quality&&(d.useShadow=
!0,d.TEXTURE_WIDTH=512,d.TEXTURE_HEIGHT=1024,d.sizeRatio=1.1);d.restart=!0}},!1),y[a].addEventListener("transitionend",function(){var a=this;setTimeout(function(){a.classList.remove("recommended")},800)},!1);fa.addEventListener("click",function(){va.classList.toggle("vis");this.classList.toggle("vis");Ta.classList.toggle("vis")},!1);Sa.classList.remove("hid");d.mobile?y[0].click():y[2].click()}function n(){z=new THREE.Object3D;z.position.set(0,190,0);var a=new THREE.AmbientLight(3355443,1.4);z.add(a);
a=new THREE.DirectionalLight(12225419,.5);a.position.set(1,1,1);z.add(a);a=new THREE.DirectionalLight(9157300,.3);a.position.set(1,1,-1);z.add(a);a=new THREE.PointLight(10066329,1.2,1600);a.castShadow=!0;a.shadow.camera.near=10;a.shadow.camera.far=1E3;a.shadow.bias=.04;a.shadow.mapSize.width=2048;a.shadow.mapSize.height=2048;z.add(a)}function w(a){L.x=a.pageX/window.innerWidth*2-1;L.y=2*-(a.pageY/window.innerHeight)+1}function ib(a){1===a.touches.length&&(L.x=a.touches[0].pageX/window.innerWidth*
2-1,L.y=2*-(a.touches[0].pageY/window.innerHeight)+1)}function T(a){1===a.touches.length&&(L.x=a.touches[0].pageX/window.innerWidth*2-1,L.y=2*-(a.touches[0].pageY/window.innerHeight)+1)}function r(a,b,d,e){return a[0]*b+a[1]*d+a[2]*e}function pa(a){return a*a*a*(a*(6*a-15)+10)}function Pa(a,b){return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){return e.return(new Promise(function(e){Za=b;document.addEventListener("mousemove",w,!1);document.addEventListener("touchstart",ib,!1);document.addEventListener("touchmove",
T,!1);t=d.TEXTURE_WIDTH;k=d.TEXTURE_HEIGHT;W=t*k;M=a;X=new THREE.Scene;Y=new THREE.Camera;Y.position.z=1;F=new Float32Array(4*W);for(var h=0;h<t;h++)for(var g=0;g<k;g++)F[h*k*4+4*g]=THREE.Math.randFloat(-1,1),F[h*k*4+4*g+1]=THREE.Math.randFloat(-1,1),F[h*k*4+4*g+2]=THREE.Math.randFloat(-1,1);h={};h.texture=new THREE.DataTexture(F,k,t,THREE.RGBAFormat,THREE.FloatType);h.texture.minFilter=THREE.NearestFilter;h.texture.magFilter=THREE.NearestFilter;h.texture.needsUpdate=!0;h.texture.generateMipmaps=
!1;h.texture.flipY=!1;$a=h;h=new Float32Array(4*W);for(g=0;g<t;g++)for(var c=0;c<k;c++)h[g*k*4+4*c]=110-g/t*220,h[g*k*4+4*c+1]=0,h[g*k*4+4*c+2]=110-c/k*220;g={};g.texture=new THREE.DataTexture(h,k,t,THREE.RGBAFormat,THREE.FloatType);g.texture.minFilter=THREE.NearestFilter;g.texture.magFilter=THREE.NearestFilter;g.texture.needsUpdate=!0;g.texture.generateMipmaps=!1;g.texture.flipY=!1;ia=g;ja=new THREE.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new THREE.Vector2(k,t)},texture:{type:"t"}},
precision:d.precision,vertexShader:"\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}\n",fragmentShader:"\n\nuniform vec2 resolution;\nuniform sampler2D texture;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    gl_FragColor = texture2D( texture, uv );\n}\n"});ka=new THREE.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new THREE.Vector2(k,t)},texturePosition:{type:"t"},textureVelocity:{type:"t"}},precision:d.precision,vertexShader:"\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}\n",
fragmentShader:"\n\nuniform vec2 resolution;\nuniform sampler2D texturePosition;\nuniform sampler2D textureVelocity;\n\n#define PI 3.1415926535897932384626433832795\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n\n    vec3 pos = texture2D( texturePosition, uv ).xyz;\n    vec3 vel = texture2D( textureVelocity, uv ).xyz;\n\t\tfloat life = texture2D( textureVelocity, uv ).w;\n\n    pos += vel;\n\n    gl_FragColor = vec4( pos, life );\n}\n",blending:THREE.NoBlending,transparent:!1,
depthWrite:!1,depthTest:!1});D=new THREE.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new THREE.Vector2(k,t)},textureRandom:{type:"t",value:$a.texture},texturePosition:{type:"t"},textureVelocity:{type:"t"},mousePosition:{type:"v3",value:new THREE.Vector3(0,0,0)},mousePrev:{type:"v3",value:new THREE.Vector3(0,0,0)},mouseVelocity:{type:"v3",value:new THREE.Vector3(0,0,0)},mouseRadius:{type:"f",value:d.radius},viscosity:{type:"f",value:d.viscosity},elasticity:{type:"f",value:d.elasticity},defaultPosition:{type:"t",
value:ia.texture},dim:{type:"f",value:220},time:{type:"f",value:0}},precision:d.precision,vertexShader:"\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}\n",fragmentShader:"\n\nuniform vec2 resolution;\nuniform sampler2D textureRandom;\nuniform sampler2D texturePosition;\nuniform sampler2D textureVelocity;\nuniform sampler2D defaultPosition;\nuniform vec3 mousePosition;\nuniform vec3 mousePrev;\nuniform vec3 mouseVelocity;\nuniform float mouseRadius;\nuniform float viscosity;\nuniform float elasticity;\nuniform float dim;\nuniform float time;\n\n#define PI 3.1415926535897932384626433832795\n\n//\tClassic Perlin 3D Noise\n//\tby Stefan Gustavson\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\nvec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec3 P){\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nvec2 distToSegment( vec3 x1, vec3 x2, vec3 x0 ) {\n    vec3 v = x2 - x1;\n    vec3 w = x0 - x1;\n\n    float c1 = dot(w,v);\n    float c2 = dot(v,v);\n\n    if ( c1 <= 0.0 ) {\n        return vec2( distance( x0, x1 ), 0.0 );\n    }\n    if ( c2 <= c1) {\n        return vec2( distance( x0, x2), 1.0 );\n    }\n\n    float b = c1 / c2;\n    vec3 pb = x1 + b*v;\n    return vec2( distance( x0, pb ), b );\n}\n\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n\n    vec3 rand = texture2D( textureRandom, uv ).xyz;\n    vec3 cur = texture2D( texturePosition, uv ).xyz;\n    vec3 pos = texture2D( defaultPosition, uv ).xyz;\n    vec3 vel = texture2D( textureVelocity, uv ).xyz;\n\n    float x = ( dim/2.0 + pos.x ) / dim;\n    float z = ( dim/2.0 + pos.z ) / dim;\n\n    float res = 7.6;\n    pos.x += rand.x*1.0;\n    pos.y = cnoise( vec3(x*res, z*res/2.0, time) ) * 8.0 + rand.y*1.0;\n    pos.z += rand.z*1.0;\n\n    vec3 offset = (pos - cur);\n    vec2 dist = distToSegment(mousePrev, mousePosition, cur) / mouseRadius;\n\n    if ( dist.x <= 1.0 ) {\n        vel += offset*elasticity*1.0 - vel * viscosity;\n        vel += ( normalize( cur - ( mousePrev + ( mousePosition - mousePrev ) * dist.y ) ) * mix( 7.0, 0.1, dist.x ) + rand * 0.02 );\n    }\n    else {\n        vel += offset*elasticity - vel * viscosity;\n    }\n\n    gl_FragColor = vec4( vel, 1.0 );\n}\n",
blending:THREE.NoBlending,transparent:!1,depthWrite:!1,depthTest:!1});Z=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),ja);X.add(Z);G=new THREE.WebGLRenderTarget(k,t,{wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat,type:d.mobile?THREE.HalfFloatType:THREE.FloatType,depthTest:!1,depthBuffer:!1,stencilBuffer:!1});aa=G.clone();h={};h.texture=new THREE.DataTexture(new Float32Array(4*W),k,t,THREE.RGBAFormat,
THREE.FloatType);h.texture.minFilter=THREE.NearestFilter;h.texture.magFilter=THREE.NearestFilter;h.texture.needsUpdate=!0;h.texture.generateMipmaps=!1;h.texture.flipY=!1;da(h,G);da(G,aa);E=new THREE.WebGLRenderTarget(k,t,{wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat,type:d.mobile?THREE.HalfFloatType:THREE.FloatType,depthTest:!1,depthWrite:!1,depthBuffer:!1,stencilBuffer:!1});ba=E.clone();h=new Float32Array(4*
W);for(g=0;g<t;g++)for(c=0;c<k;c++){var p=g/t,f=c/k;h[g*k*4+4*c]=110-g/t*220+F[g*k*4+4*c];var P=g*k*4+4*c+1;p*=7.6;var u=7.6*f/2;f=Da;var l=Math.floor(p),n=Math.floor(u),q=Math.floor(f);p-=l;u-=n;f-=q;l&=255;n&=255;q&=255;var v=m[l+m[n+m[q+1]]]%12,x=m[l+m[n+1+m[q]]]%12,y=m[l+m[n+1+m[q+1]]]%12,z=m[l+1+m[n+m[q]]]%12,A=m[l+1+m[n+m[q+1]]]%12,B=m[l+1+m[n+1+m[q]]]%12,C=m[l+1+m[n+1+m[q+1]]]%12;l=r(H[m[l+m[n+m[q]]]%12],p,u,f);z=r(H[z],p-1,u,f);x=r(H[x],p,u-1,f);B=r(H[B],p-1,u-1,f);v=r(H[v],p,u,f-1);A=r(H[A],
p-1,u,f-1);y=r(H[y],p,u-1,f-1);C=r(H[C],p-1,u-1,f-1);p=pa(p);u=pa(u);f=pa(f);h[P]=8*((1-f)*((1-u)*((1-p)*l+p*z)+u*((1-p)*x+p*B))+f*((1-u)*((1-p)*v+p*A)+u*((1-p)*y+p*C)))+1*F[g*k*4+4*c+1];h[g*k*4+4*c+2]=110-c/k*220+F[g*k*4+4*c+2]}g={};g.texture=new THREE.DataTexture(h,k,t,THREE.RGBAFormat,THREE.FloatType);g.texture.minFilter=THREE.NearestFilter;g.texture.magFilter=THREE.NearestFilter;g.texture.needsUpdate=!0;g.texture.generateMipmaps=!1;g.texture.flipY=!1;da(g,E);da(E,ba);e(!0)}))})}function da(a,
b){Z.material=ja;ja.uniforms.texture.value=a.texture;M.setRenderTarget(b);M.render(X,Y)}function Oa(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){return b.return(new Promise(function(b){ab=a;Ea=d.TEXTURE_WIDTH;ca=d.TEXTURE_HEIGHT;Fa=Ea*ca;A=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.shadowmap,THREE.UniformsLib.lights,{textureDefaultPosition:{type:"t",value:ia},texturePosition:{type:"t",value:null},dim:{type:"f",value:0},sizeRatio:{type:"f",
value:0},lightPos:{type:"v3",value:z.position},color1:{type:"c"},color2:{type:"c"},camera:{type:"v3"},befEnlargementNear:{type:"f",value:q.befEnlargementNear},befEnlargementFar:{type:"f",value:q.befEnlargementFar},befEnlargementFactor:{type:"f",value:q.befEnlargementFactor},aftEnlargementNear:{type:"f",value:q.aftEnlargementNear},aftEnlargementFar:{type:"f",value:q.aftEnlargementFar},aftEnlargementFactor:{type:"f",value:q.aftEnlargementFactor},befOpacityNear:{type:"f",value:q.befOpacityNear},befOpacityFar:{type:"f",
value:q.befOpacityFar},befOpacityBase:{type:"f",value:q.befOpacityBase},aftOpacityNear:{type:"f",value:q.aftOpacityNear},aftOpacityFar:{type:"f",value:q.aftOpacityFar},aftOpacityBase:{type:"f",value:q.aftOpacityBase}}]),defines:{USE_SHADOW:d.useShadow},precision:d.precision,vertexShader:"\n\nuniform sampler2D textureDefaultPosition;\nuniform sampler2D texturePosition;\nuniform float sizeRatio;\nuniform float dim;\nuniform vec3 camera;\n\nuniform float befEnlargementNear;\nuniform float befEnlargementFar;\nuniform float befEnlargementFactor;\n\nuniform float aftEnlargementNear;\nuniform float aftEnlargementFar;\nuniform float aftEnlargementFactor;\n\nuniform float befOpacityNear;\nuniform float befOpacityFar;\nuniform float befOpacityBase;\n\nuniform float aftOpacityNear;\nuniform float aftOpacityFar;\nuniform float aftOpacityBase;\n\n\nvarying float ratio;\nvarying float vAlpha;\nvarying vec2 focalDirection;\nvarying vec3 vNormal;\nvarying vec3 pos;\n\n#include <common>\n#ifdef USE_SHADOW\n\t#include <shadowmap_pars_vertex>\n#endif\n\nfloat diameter;\n\nvoid main() {\n\n    vec3 def = texture2D( textureDefaultPosition, position.xy ).xyz;\n    pos = texture2D( texturePosition, position.xy ).xyz;\n\n    vNormal = pos - def;\n\n    float zRatio = (pos.z + dim/2.0 ) / dim;\n\n    ratio = zRatio;\n\n    vec4 worldPosition = modelMatrix * vec4( pos, 1.0 );\n    vec4 mvPosition = viewMatrix * worldPosition;\n\n    float focalLength = length(camera);\n\t\tfloat dist = focalLength + mvPosition.z;\n\n\t\tfloat size = pow(abs(sizeRatio*1.5), 1.2);\n\n    float aftEnlargementMax =  130.0 + ( (focalLength-150.0)/100.00 * 60.0);\n    float befEnlargementMax =  130.0 + ( (focalLength-150.0)/100.00 * 60.0);\n\n\t\tif ( dist < 0.0 ) {\n\t\t\tdiameter = size*( 1.0 + aftEnlargementFactor*smoothstep(aftEnlargementNear, aftEnlargementMax, abs(dist) ) );\n\t\t\tvAlpha = aftOpacityBase + (1.0 - aftOpacityBase)*(1.0 - smoothstep(aftOpacityNear, aftOpacityFar, abs(dist) ) );\n\t\t}\n\t\telse {\n\t\t\tdiameter = size*( 1.0 + befEnlargementFactor*smoothstep(befEnlargementNear, befEnlargementMax, abs(dist) ) );\n\t\t\tvAlpha = befOpacityBase + (1.0 - befOpacityBase)*(1.0 - smoothstep(befOpacityNear, befOpacityFar, abs(dist) ) );\n\t\t}\n\n    gl_PointSize = ( 1.27 - 0.3 * clamp( length(mvPosition.xyz) / 600.0 , 0.0, 1.0 ) ) * diameter;\n\n    gl_Position = projectionMatrix * mvPosition;\n    focalDirection = (gl_Position.xyz / gl_Position.w).xy;\n\n\t\t#ifdef USE_SHADOW\n    \t#include <shadowmap_vertex>\n\t\t#endif\n}\n",
fragmentShader:"\n\n#include <common>\n#include <packing>\n#include <bsdfs>\n\n#ifdef USE_SHADOW\n\t#include <lights_pars_begin>\n\t#include <shadowmap_pars_fragment>\n\t#include <shadowmask_pars_fragment>\n#endif\n\nuniform vec3 lightPos;\nuniform vec3 color1;\nuniform vec3 color2;\n\nvarying float ratio;\nvarying float vAlpha;\nvarying vec2 focalDirection;\nvarying vec3 vNormal;\nvarying vec3 pos;\n\nvoid main() {\n\n\tvec2 toCenter = (gl_PointCoord.xy - 0.5) * 2.0;\n\tfloat len = length(toCenter);\n\tif (len > 0.8) discard;\n\n  vec3 outgoingLight = mix(color2, color1, mix(0.0, 1.0, ratio))*1.0;\n  vec3 light = normalize(lightPos-pos);\n\n  float luminosity = smoothstep(0.2,1.0,(max( 0.0, dot( vNormal, vec3(0.0,1.0,0.0)) ) ) );\n  outgoingLight *= 0.15 + luminosity*0.1;\n\n  luminosity = smoothstep(0.88,1.0,(max( 0.0, dot( vec3(0.0,1.0,0.0), light) ) ) );\n  outgoingLight *= 0.25 + luminosity*0.75;\n\n\t#ifdef USE_SHADOW\n    float shadow = smoothstep(0.0, 0.2, getShadowMask());\n\t\toutgoingLight *= 0.65 + shadow*0.35;\n\t#endif\n\n  float alpha = vAlpha;\n\n  gl_FragColor = vec4( outgoingLight , 1.0 );\n\n}\n",
lights:!0,transparent:!0,blending:THREE.AdditiveBlending,depthTest:!1,depthWrite:!1});Ga=new THREE.Color(d.color1);Ha=new THREE.Color(d.color2);A.uniforms.color1.value=Ga;A.uniforms.color2.value=Ha;A.uniforms.dim.value=220;A.uniforms.sizeRatio.value=d.sizeRatio;Ia=new THREE.ShaderMaterial({uniforms:{lightPos:{type:"v3",value:z.position},texturePosition:{type:"t",value:null}},precision:d.precision,vertexShader:"\n\nuniform sampler2D texturePosition;\n\nvarying vec4 vWorldPosition;\n\nvoid main() {\n\n\tvec3 pos = texture2D( texturePosition, position.xy ).xyz;\n\n    vec4 worldPosition = modelMatrix * vec4( pos.xyz, 1.0 );\n    vec4 mvPosition = viewMatrix * worldPosition;\n\n    gl_PointSize = 1.0;\n\n    vWorldPosition = worldPosition;\n\n    gl_Position = projectionMatrix * mvPosition;\n\n}\n",
fragmentShader:"\n\nuniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n\n#include <common>\n\nvec4 pack1K ( float depth ) {\n\n   depth /= 1000.0;\n   const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n   const vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n   vec4 res = fract( depth * bitSh );\n   res -= res.xxyz * bitMsk;\n   return res;\n\n}\n\nvoid main () {\n\n   gl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz )*0.05 );\n\n}\n",
depthTest:!1,depthWrite:!1,side:THREE.BackSide,blending:THREE.NoBlending});for(var h=new Float32Array(3*Fa),c=0;c<Fa;c++){var e=3*c;h[e+0]=~~(c/ca)/Ea;h[e+1]=c%ca/ca}c=new THREE.BufferGeometry;c.addAttribute("position",new THREE.BufferAttribute(h,3));N=new THREE.Points(c,A);N.customDistanceMaterial=Ia;N.castShadow=!0;N.receiveShadow=!0;b(!0)}))})}function jb(){n();b();B.add(z);B.add(J);Pa(l,v).then(function(a){bb=a});Oa(v).then(function(a){cb=a});a(l,B,v,C,I).then(function(a){db=a});c(v,O)}function ea(){d.restart&&
(B.remove(N),d.restart=!1,Pa(l,v),Oa(v),B.add(N));requestAnimationFrame(ea);eb=!bb||!cb||!db;eb||la||(B.add(N),la=!0);var a;if(Ya&&!fb)if(3500>ha){var b=lb.getDelta();ha+=1E3*b;var c=a=ha/3500;b=1>(c/=.5)?65*c*c*c*c*c:65*((c-=2)*c*c*c*c+2);c=f(a,200,-90);a=f(a,0,-110);Ra.position.set(b,c,a)}else{fb=!0;R.enableZoom=!0;R.enableRotate=!0;R.maxPolarAngle=1.8*Math.PI/5;R.maxDistance=250;R.minDistance=150;b=document.querySelectorAll(".delay");a=0;for(c=b.length;a<c;a++)b[a].classList.remove("delay");b=
document.querySelectorAll(".inactive");a=0;for(c=b.length;a<c;a++)b[a].classList.remove("inactive")}if(Ca.parentNode.classList.contains("selected_item")){if(130<K||0>K)ua*=-1;ta=35<K&&95>K?1-.6*d.viscosity/.3:1.5;K+=ua*ta;Ca.style.transform="translateX("+K+"px) translateY(-20px)"}la&&(O.update(),Da+=Math.min(mb.getDelta/1.2,1/8),Ja.copy(ma),gb.setFromCamera(L,Za),gb.ray.intersectPlane(nb,Ka),null!=Ka&&ma.copy(Ka),La.copy(ma.clone().sub(Ja)),La.y=0,b=G,G=aa,aa=b,Z.material=D,D.uniforms.mouseRadius.value=
d.radius,D.uniforms.viscosity.value=d.viscosity,D.uniforms.elasticity.value=d.elasticity,D.uniforms.textureVelocity.value=aa.texture,D.uniforms.texturePosition.value=E.texture,D.uniforms.mousePosition.value.copy(ma),D.uniforms.mousePrev.value.copy(Ja),D.uniforms.mouseVelocity.value.copy(La),D.uniforms.time.value=Da,M.setRenderTarget(G),M.render(X,Y),b=E,E=ba,ba=b,Z.material=ka,ka.uniforms.textureVelocity.value=G.texture,ka.uniforms.texturePosition.value=ba.texture,M.setRenderTarget(E),M.render(X,
Y),Ma=E,Ga.setStyle(d.color1),Ha.setStyle(d.color2),Ia.uniforms.texturePosition.value=Ma.texture,A.uniforms.texturePosition.value=Ma.texture,A.uniforms.textureDefaultPosition.value=ia.texture,A.uniforms.camera.value=ab.position);la?(d.motionBlur?(Q.enabled=!0,U.enabled=!0):(Q.enabled=!1,U.enabled=!1),x.render()):l.render(B,v)}for(var d={radius:30,viscosity:.12,elasticity:.015,color1:"#2095cc",color2:"#20cc2e",TEXTURE_WIDTH:512,TEXTURE_HEIGHT:512,quality:2,motionBlur:!0,useShadow:!0,sizeRatio:1.32,
restart:!1,mobile:null==(new MobileDetect(window.navigator.userAgent)).mobile()?!1:!0,precision:"lowp"},U,Q,x,qa,ra,J,sa={},Qa={},kb=new THREE.Color,Ra,R,Sa,Wa,Ba,S,Va,Ua,y,va,fa,Ta,V,Aa,za,ya,wa,xa,Ca,Xa,Ya,fb,ha,K,ua,ta,lb=new THREE.Clock,z,Za,L=new THREE.Vector2(1,1),Ja=new THREE.Vector3(999,0,0),Ka=new THREE.Vector3,ma=new THREE.Vector3(999,0,0),La=new THREE.Vector3,gb=new THREE.Raycaster,nb=new THREE.Plane(new THREE.Vector3(0,1,0)),ob=Math,H=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,
1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],hb=[],Na=0;256>Na;Na++)hb[Na]=Math.floor(256*ob.random());for(var m=[],na=0;512>na;na++)m[na]=hb[na&255];var Z,X,Y,M,ja,ka,D,Ma,E,ba,G,aa,F,$a,ia,t,k,W,Da=0,mb=new THREE.Clock,N,ab,Ga,Ha,A,Ia,Ea,ca,Fa,q={befEnlargementNear:34,befEnlargementFar:129,befEnlargementFactor:5.2,aftEnlargementNear:34,aftEnlargementFar:129,aftEnlargementFactor:1.8,befOpacityNear:0,befOpacityFar:79,befOpacityBase:.35,aftOpacityNear:0,aftOpacityFar:79,aftOpacityBase:.35},
C,I,l,B,v,O,oa=!0,eb=!0,bb=!1,cb=!1,db=!1,la=!1,pb=new THREE.Vector3(0,200,-.1);window.onresize=function(){if(oa){C=window.innerWidth;I=window.innerHeight;v.aspect=C/I;v.updateProjectionMatrix();l.setSize(C,I);var a=C,b=I;qa=a;ra=b;x.setSize(a,b)}};(function(){try{l=new THREE.WebGLRenderer({antialias:!0,failIfMajorPerformanceCaveat:!0})}catch(g){console.error("Atomize \u2022 Hardware Acceleration not enabled or GPU not available."),oa=!1}if(oa&&WEBGL.isWebGLAvailable()){oa=!0;C=window.innerWidth;
I=window.innerHeight;l.setSize(C,I);l.setPixelRatio(window.devicePixelRatio);l.setClearColor(132102);l.sortObjects=!1;l.shadowMap.type=THREE.PCFSoftShadowMap;l.shadowMap.enabled=!0;document.body.appendChild(l.domElement);B=new THREE.Scene;B.fog=new THREE.FogExp2(132102,.0016);v=new THREE.PerspectiveCamera(75,C/I,1,1E4);v.position.copy(pb);O=new THREE.OrbitControls(v,l.domElement);O.enablePan=!1;O.enableZoom=!1;O.enableRotate=!1;O.update();var a=l.getContext(),b="lowp";0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,
a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision&&(b="mediump");0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision&&(b="highp");d.precision=b;jb();requestAnimationFrame(ea)}else{console.warn("Atomize \u2022 Initialization aborted.");a=document.getElementById("video-container");b=document.createElement("VIDEO");b.src=".assets/media/loop.mp4";b.loop=!0;b.autoplay=
!0;b.muted=!0;a.appendChild(b);a=document.getElementById("intro");b=document.getElementById("st_btn");var c=document.getElementById("st_notice"),e=document.getElementById("st_steps"),f=document.getElementsByTagName("BODY")[0];a.classList.add("hidden");b.classList.add("hidden");c.classList.remove("hidden");e.classList.remove("hidden");f.classList.remove("hid")}})()})();